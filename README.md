# ProDev Backend Engineering: Movie Recommendation System

## Project Overview

This repository contains the backend architecture for a **high-performance Movie Recommendation Application**. Developed as part of the **ProDev Backend Engineering** program, this project demonstrates a **production-ready approach** to building scalable, secure, and maintainable APIs.

The system integrates **third-party movie data** with a localized ecosystem for **user management**, **custom playlists**, and a **community-driven rating system**.

The core focus of this implementation is achieving a balance between **data integrity** and **retrieval speed**, leveraging modern backend patterns such as **asynchronous task processing**, **multi-tier caching**, and **containerized deployment**.

---

## Technical Specifications & Stack

### Core Technologies

| Category | Technology |
|--------|-----------|
| **Language** | Python 3.10+ |
| **Frameworks** | Django, Django REST Framework (DRF) |
| **Data Querying** | GraphQL (Graphene-Django) |
| **Database** | PostgreSQL |
| **Caching / Broker** | Redis, RabbitMQ |
| **Task Queue** | Celery |
| **DevOps** | Docker, Docker Compose, GitHub Actions (CI/CD) |
| **Documentation** | Swagger / OpenAPI 3.0 |

---

## Backend Engineering Concepts Implemented

- **Database Design**  
  Normalized relational schema with optimized indexing on foreign keys and search identifiers.

- **Asynchronous Programming**  
  Heavy API synchronization and data processing are offloaded to background workers using Celery.

- **Caching Strategies**  
  Implementation of *Read-Through* and *Write-Through* caching to reduce dependency on external APIs.

- **Security**  
  JWT-based stateless authentication with granular API rate limiting (throttling).

---

## Key Features

### 1. Movie Discovery and Recommendations
- Integration with the **TMDb API** to provide real-time trending data.
- Personalized recommendations generated by cross-referencing user genre preferences with global trends.

### 2. User Management and Security
- Secure authentication using **JSON Web Tokens (JWT)**.
- Supports registration, login, and token refresh flows.
- Protects user-specific data such as **Favorites** and **Ratings**.

### 3. Shared Playlists and Community Ratings
- Users can curate movie collections with **public or private visibility**.
- Includes a custom **Similarity Score** based on internal user ratings, offering a localized alternative to global scores.

### 4. Performance Optimization
- Redis caching ensures **sub-millisecond response times** for search and trending feeds.
- Minimizes latency caused by third-party API calls.

---

## Challenges and Solutions

### Data Consistency and Synchronization
**Challenge:**  
Keeping local movie metadata synchronized with the external TMDb database without degrading user experience.

**Solution:**  
A Celery-based synchronization service performs non-blocking background updates to the local PostgreSQL metadata cache at scheduled intervals.

---

### Complex Data Fetching (N+1 Problem)
**Challenge:**  
Nested playlist queries caused excessive database hits and performance degradation.

**Solution:**  
- Optimized ORM queries using `select_related` and `prefetch_related`.
- Implemented GraphQL to allow the frontend to request only the required fields per view.

---

## Infrastructure and Deployment

### Containerization
The entire environment is orchestrated using **Docker**, ensuring consistency across development, testing, and production environments.

`docker-compose.yml` manages:
- Django application
- PostgreSQL database
- Redis cache
- RabbitMQ broker
- Celery workers

---

### CI/CD Pipeline
**GitHub Actions** automate the following workflows:

- Code linting and **PEP 8 compliance** checks  
- Execution of **unit and integration tests** on every pull request  
- Automated **Docker image builds** and deployment to staging environments  

---

## Implementation Roadmap

### Phase 1: Foundation
- PostgreSQL schema design
- Django project setup
- TMDb service layer
- JWT authentication

### Phase 2: Feature Development
- Playlist and rating systems
- GraphQL integration for advanced querying

### Phase 3: Scaling and Optimization
- Redis-based search caching
- Celery workers for background metadata updates
- API throttling
- Final Swagger documentation

---

## Best Practices & Personal Takeaways

A **Security-First** approach was maintained throughout the project:
- All inputs are validated
- Endpoints are protected using appropriate permission classes

A major takeaway was the value of the **Service Layer pattern** in Django. Separating business logic from API views significantly improved:
- Code maintainability
- Testability
- Long-term scalability

---
